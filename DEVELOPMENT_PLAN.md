# ğŸ“‹ ì¹´ë“œë‰´ìŠ¤ ìƒì„±ê¸° ì›¹ì•± ì „í™˜ ê¸°íšì•ˆ

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### í˜„ì¬ ìƒíƒœ
- **ê¸°ìˆ **: Tkinter GUI ê¸°ë°˜ ë¡œì»¬ Python ì• í”Œë¦¬ì¼€ì´ì…˜
- **íŒŒì¼**: `launcher.py` (ì™„ì„±ëœ ìƒíƒœ)
- **ì´ë¯¸ì§€**: ~1,600ì¥ (ë¡œì»¬ `sorted_output/img/` ë””ë ‰í† ë¦¬)
- **ìŠ¤íƒ€ì¼ ì¸ë±ìŠ¤**: `gwangyang_style_index.pkl`
- **API**: Google Gemini 2.0 Flash + 3 Pro Image
- **ê¸°ëŠ¥**: STEP 1(ê¸°íš) + STEP 2(ë””ìì¸)

### ëª©í‘œ
í˜„ì¬ì˜ ë¡œì»¬ tkinter GUI ì• í”Œë¦¬ì¼€ì´ì…˜ì„ **Streamlit ê¸°ë°˜ì˜ í´ë¼ìš°ë“œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ìœ¼ë¡œ ì „í™˜í•˜ì—¬,
Streamlit Cloud ë˜ëŠ” Renderì— ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì¬êµ¬ì¶•í•©ë‹ˆë‹¤.

### í•µì‹¬ ë³€ê²½ ì‚¬í•­
- ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œ ì˜ì¡´ì„± ì œê±°
- ëª¨ë“  ë°ì´í„°(ì´ë¯¸ì§€, ìŠ¤íƒ€ì¼ ì¸ë±ìŠ¤)ë¥¼ **Supabase í´ë¼ìš°ë“œ**ì— ì €ì¥
- API Key ë³´ì•ˆ: **BYOK(Bring Your Own Key)** ë°©ì‹ ë„ì…
  - ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥
  - ì„œë²„ì— ì €ì¥í•˜ì§€ ì•ŠìŒ
  - ë¸Œë¼ìš°ì € ì„¸ì…˜ì—ë§Œ ì„ì‹œ ë³´ìœ 

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Streamlit**: Python ê¸°ë°˜ ì›¹ í”„ë ˆì„ì›Œí¬
  - ë¹ ë¥¸ ê°œë°œ ê°€ëŠ¥
  - ì½”ë“œ ê°„ê²°ì„±
  - ê¸°ì¡´ Python ë¡œì§ ì¬ì‚¬ìš© ìš©ì´

### Backend / Storage
- **Supabase**: PostgreSQL + íŒŒì¼ ìŠ¤í† ë¦¬ì§€
  - ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ… (gwangyang-assets ë²„í‚·)
  - ìŠ¤íƒ€ì¼ ì¸ë±ìŠ¤ ì €ì¥ì†Œ (JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜)
  - ë¬´ë£Œ í”Œëœìœ¼ë¡œ ì¶©ë¶„í•œ ìš©ëŸ‰

### AI Model
- **Google Gemini API**
  - ê¸°íšìš©: `gemini-2.0-flash` (í…ìŠ¤íŠ¸ ë¶„ì„)
  - ë””ìì¸ìš©: `gemini-3-pro-image-preview` (ì´ë¯¸ì§€ ìƒì„±)
  - Vision APIë¥¼ í†µí•œ ì°¸ì¡° ì´ë¯¸ì§€ ë¶„ì„

### Deployment
- **1ìˆœìœ„**: Streamlit Cloud
  - Python ì¹œí™”ì 
  - Supabaseì™€ í†µí•© ìš©ì´
  - ë¬´ë£Œ í˜¸ìŠ¤íŒ…
- **2ìˆœìœ„**: Render
  - ë” ë§ì€ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
  - Docker ì§€ì›

---

## 3. ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ (Phase 1)

### 3.1 Supabase ì¤€ë¹„

#### ë²„í‚· ìƒì„±
```
ë²„í‚·ëª…: gwangyang-assets
ê¶Œí•œ: Public (ëª¨ë“  íŒŒì¼ì´ ê³µê°œ URLë¡œ ì ‘ê·¼ ê°€ëŠ¥)

í´ë” êµ¬ì¡°:
gwangyang-assets/
â”œâ”€â”€ 10_gy_cover/          # í‘œì§€ ì´ë¯¸ì§€ë“¤
â”œâ”€â”€ 10_gy_body/           # ë³¸ë¬¸ ì´ë¯¸ì§€ë“¤
â””â”€â”€ 10_gy_outro/          # ì•„ì›ƒíŠ¸ë¡œ ì´ë¯¸ì§€ë“¤
```

### 3.2 ì´ë¯¸ì§€ ì—…ë¡œë“œ

**ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸**: `migrate_to_supabase.py`

```python
# ì£¼ìš” ê¸°ëŠ¥:
1. ë¡œì»¬ sorted_output/img/ í´ë”ì˜ ëª¨ë“  ì´ë¯¸ì§€ íƒìƒ‰
2. Supabase Storageì— ë°°ì¹˜ ì—…ë¡œë“œ
3. ê° ì´ë¯¸ì§€ì˜ Public URL ìƒì„±
4. ì›ë³¸ íŒŒì¼ê³¼ ë§¤í•‘ ì €ì¥
5. ì§„í–‰ ìƒí™© ë¡œê¹… ë° ì˜¤ë¥˜ ì²˜ë¦¬
```

### 3.3 ìŠ¤íƒ€ì¼ ì¸ë±ìŠ¤ ë³€í™˜

#### ê¸°ì¡´ í˜•ì‹ (pickle)
```python
[
  {
    "data": {
      "file_path": "C:\\...\\img\\10_gy_cover\\imgi_3499_img_l.jpg",  # ë¡œì»¬ ê²½ë¡œ
      "page_type": "COVER",
      "color_palette_feel": "...",
      ...
    },
    "embedding": [0.123, 0.456, ...]
  },
  ...
]
```

#### ìƒˆë¡œìš´ í˜•ì‹ (Supabase í˜¸í™˜)
```python
[
  {
    "data": {
      "file_path": "https://xxxx.supabase.co/storage/v1/object/public/gwangyang-assets/10_gy_cover/imgi_3499_img_l.jpg",  # Public URL
      "page_type": "COVER",
      "color_palette_feel": "...",
      ...
    },
    "embedding": [0.123, 0.456, ...]
  },
  ...
]
```

#### ë³€í™˜ ë°©ì‹
- Pickle íŒŒì¼ì„ ì½ê¸°
- ê° í•­ëª©ì˜ `file_path`ë¥¼ ë¡œì»¬ ê²½ë¡œ â†’ Supabase Public URLë¡œ ë³€í™˜
- ë³€í™˜ëœ ë°ì´í„°ë¥¼ **JSON í˜•ì‹**ìœ¼ë¡œ ì €ì¥ (pickle ìœ ì§€ ê°€ëŠ¥, ê¶Œì¥ì€ JSON)
- ì›¹ì•±ì—ì„œ ë¡œë“œ ì‹œ ê°„í¸ì„±ì„ ìœ„í•´ JSON ê¶Œì¥

#### ì €ì¥ ìœ„ì¹˜
- Supabase DB: `styles` í…Œì´ë¸” ë˜ëŠ”
- Supabase Storage: `gwangyang-assets/index.json` ë˜ëŠ”
- **ê¶Œì¥**: ë¡œì»¬ ì €ì¥ í›„ ì•±ê³¼ í•¨ê»˜ ë°°í¬ (ìš©ëŸ‰ ì‘ìŒ, ë³€ê²½ ë¹ˆë„ ë‚®ìŒ)

### 3.4 ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

```bash
# í•„ìˆ˜ ì„¤ì •:
SUPABASE_URL = "your_supabase_url"
SUPABASE_KEY = "your_supabase_key"

# ì‹¤í–‰
python migrate_to_supabase.py
```

**ì˜ˆìƒ ì‹œê°„**: ëŒ€ì—­í­ì— ë”°ë¼ 15~30ë¶„

---

## 4. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### 4.1 ë³´ì•ˆ ì •ì±…: BYOK (Bring Your Own Key)

#### ì›ì¹™
- **ì ˆëŒ€ ê¸ˆì§€**: Google API Keyë¥¼ ì„œë²„ í™˜ê²½ë³€ìˆ˜ë‚˜ DBì— ì €ì¥
- **ê¶Œì¥ ë°©ì‹**: ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥

#### êµ¬í˜„ ë°©ì‹

```python
# Streamlit sidebarì—ì„œ API Key ì…ë ¥ ë°›ìŒ
with st.sidebar:
    st.header("ğŸ” API ì„¤ì •")
    api_key = st.text_input(
        "Google API Key ì…ë ¥",
        type="password",
        help="https://aistudio.google.com/apikey ì—ì„œ ìƒì„±"
    )

    # ì„¸ì…˜ ìƒíƒœì— ì„ì‹œ ì €ì¥
    if api_key:
        st.session_state.google_api_key = api_key

# í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ìë™ ì´ˆê¸°í™”
# (Streamlitì˜ ê¸°ë³¸ ë™ì‘)
```

#### ë¼ì´í”„ì‚¬ì´í´
```
ì‚¬ìš©ì ë°©ë¬¸
    â†“
[ì„¸ì…˜ ì‹œì‘] â†’ API Key ì…ë ¥ (ì„ íƒ)
    â†“
[ë©”ì¸ ê¸°ëŠ¥ ì‚¬ìš©] â†’ st.session_stateì— KEY ë³´ìœ 
    â†“
[í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨] â†’ ì„¸ì…˜ ì´ˆê¸°í™”, KEY ì‚­ì œ
    â†“
[í˜ì´ì§€ ë‹«ê¸°] â†’ ì„¸ì…˜ ì¢…ë£Œ
```

---

### 4.2 UI/UX í”Œë¡œìš°

#### ì „ì²´ íë¦„ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Streamlit ì›¹ì•± ë©”ì¸ í™”ë©´              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì¢Œì¸¡ ì‚¬ì´ë“œë°”:                                          â”‚
â”‚  â”œâ”€ ğŸ” Google API Key ì…ë ¥                             â”‚
â”‚  â”œâ”€ â„¹ï¸ ë„ì›€ë§ ë° ë²„ì „ ì •ë³´                              â”‚
â”‚  â””â”€ âš™ï¸ ê³ ê¸‰ ì„¤ì • (í•„ìš”ì‹œ)                               â”‚
â”‚                                                        â”‚
â”‚ ë©”ì¸ ì˜ì—­:                                             â”‚
â”‚  â”œâ”€ [STEP 1ï¸âƒ£ ê¸°íšì•ˆ ìƒì„±]                              â”‚
â”‚  â”‚  â”œâ”€ íŒŒì¼ ì—…ë¡œë“œ (TXT/PDF)                          â”‚
â”‚  â”‚  â”œâ”€ ê¸°íš ìƒì„¸ë„ ì„ íƒ (ê°„ë‹¨/ìƒì„¸)                    â”‚
â”‚  â”‚  â”œâ”€ AI ê¸°íš ë²„íŠ¼                                   â”‚
â”‚  â”‚  â””â”€ ê²°ê³¼: JSON + ìˆ˜ì • ê°€ëŠ¥í•œ í…ìŠ¤íŠ¸ ì—ì–´ë¦¬ì–´       â”‚
â”‚  â”‚                                                   â”‚
â”‚  â””â”€ [STEP 2ï¸âƒ£ ë””ìì¸ ìƒì„±]                             â”‚
â”‚     â”œâ”€ ê¸°íšì•ˆ í™•ì¸ (ì½ê¸° ì „ìš©)                         â”‚
â”‚     â”œâ”€ ë¹„ìœ¨ ì„ íƒ (ë¼ë””ì˜¤ ë²„íŠ¼)                        â”‚
â”‚     â”‚  â”œâ”€ 4:5 (ì¸ìŠ¤íƒ€ê·¸ë¨)                            â”‚
â”‚     â”‚  â”œâ”€ 1:1 (ì •ë°©í˜•)                               â”‚
â”‚     â”‚  â””â”€ 9:16 (ë¦´ìŠ¤/ìŠ¤í† ë¦¬)                         â”‚
â”‚     â”œâ”€ AI ë””ìì¸ ì‹œì‘ ë²„íŠ¼                            â”‚
â”‚     â”œâ”€ ì§„í–‰ ë°” (í”„ë¡œê·¸ë ˆì‹œë¸Œ)                         â”‚
â”‚     â”œâ”€ ê²°ê³¼ ì´ë¯¸ì§€ í‘œì‹œ (st.image)                    â”‚
â”‚     â””â”€ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼                                  â”‚
â”‚                                                        â”‚
â”‚ í•˜ë‹¨: ë¡œê·¸ ì°½ (ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™©)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.3 ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸

#### STEP 1ï¸âƒ£: ê¸°íšì•ˆ ìƒì„± (Planner)

**ì…ë ¥**:
- íŒŒì¼ ì—…ë¡œë“œ: `st.file_uploader()` â†’ TXT/PDF ì§€ì›
- ê¸°íš ìƒì„¸ë„: ë¼ë””ì˜¤ ë²„íŠ¼
  - "ê°„ë‹¨í•˜ê²Œ (1~2ì¥)": í•µì‹¬ë§Œ ì••ì¶•
  - "ìì„¸í•˜ê²Œ (ì—¬ëŸ¬ ì¥)": ì „ì²´ ë‚´ìš© ë°˜ì˜

**ì²˜ë¦¬**:
```python
1. íŒŒì¼ ì²˜ë¦¬
   â”œâ”€ TXT: ì§ì ‘ ì½ê¸°
   â””â”€ PDF: Google Files APIë¡œ ì—…ë¡œë“œ ë° ë¶„ì„

2. RAG ê²€ìƒ‰ (ìœ ì‚¬ ìŠ¤íƒ€ì¼ ì°¾ê¸°)
   â”œâ”€ ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±
   â”œâ”€ DBì—ì„œ ìƒìœ„ 3ê°œ ìœ ì‚¬ ì˜ˆì‹œ ê²€ìƒ‰
   â””â”€ í”„ë¡¬í”„íŠ¸ì— í¬í•¨

3. AI ê¸°íšì•ˆ ìƒì„±
   â”œâ”€ Gemini 2.0 Flash í˜¸ì¶œ
   â”œâ”€ JSON í˜•ì‹ ì‘ë‹µ íŒŒì‹±
   â””â”€ ì˜¤ë¥˜ ì‹œ 3íšŒ ìë™ ì¬ì‹œë„

4. ì €ì¥
   â””â”€ JSON í˜•ì‹ìœ¼ë¡œ st.session_stateì— ë³´ìœ 
```

**ì¶œë ¥**:
```python
{
  "structure_type": "MULTI",
  "plan": {
    "cover": {
      "main_title": "...",
      "sub_title": "..."
    },
    "body": [
      {
        "page": 1,
        "summary": ["...", "..."]
      },
      ...
    ],
    "outro": {
      "contact": "..."
    }
  },
  "estimated_tone": "í™œê¸°ì°¬, ì •ë³´ì„±"
}
```

**UI ìš”ì†Œ**:
```python
# ê²°ê³¼ í‘œì‹œ
col1, col2 = st.columns(2)

with col1:
    st.json(plan_data)  # JSON ë·°

with col2:
    # ìˆ˜ì • ê°€ëŠ¥í•œ í…ìŠ¤íŠ¸ ì—ì–´ë¦¬ì–´
    edited_text = st.text_area(
        "ê¸°íšì•ˆ ìˆ˜ì • (í•„ìš”ì‹œ)",
        value=render_readable_text(plan_data),
        height=300
    )
```

---

#### STEP 2ï¸âƒ£: ë””ìì¸ ìƒì„± (Designer)

**ì…ë ¥**:
- ê¸°íšì•ˆ: STEP 1ì—ì„œ ìƒì„±ëœ ë°ì´í„° ì‚¬ìš©
- ë¹„ìœ¨ ì„ íƒ: ë¼ë””ì˜¤ ë²„íŠ¼
  - 4:5 (ì¸ìŠ¤íƒ€ê·¸ë¨)
  - 1:1 (ì •ë°©í˜•)
  - 9:16 (ë¦´ìŠ¤/ìŠ¤í† ë¦¬)

**ì²˜ë¦¬**:
```python
1. ê¸°íšì•ˆ íŒŒì‹± (COVER â†’ BODY(Nê°œ) â†’ OUTRO)

2. í˜ì´ì§€ë³„ ì´ë¯¸ì§€ ìƒì„±:
   for each page in [cover, body1, body2, ..., outro]:

   a) ì°¸ì¡° ì´ë¯¸ì§€ ê²€ìƒ‰
      â”œâ”€ RAGë¡œ ìœ ì‚¬ ìŠ¤íƒ€ì¼ ì´ë¯¸ì§€ 2ê°œ ê²€ìƒ‰
      â”œâ”€ Color Palette í•„í„° ì ìš© (COVER ì´í›„)
      â””â”€ ì´ë¯¸ì§€ ë¡œë“œ

   b) í”„ë¡¬í”„íŠ¸ êµ¬ì„±
      â”œâ”€ ìŠ¤íƒ€ì¼ ì§€ì‹œì‚¬í•­
      â”œâ”€ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ í†µì¼ ì§€ì‹œ
      â”œâ”€ í…ìŠ¤íŠ¸ ë°°ì¹˜ ê·œì¹™
      â”œâ”€ ë§¤ëŒì´ ìºë¦­í„° ê·œì¹™
      â”œâ”€ ì°¸ì¡° ì´ë¯¸ì§€
      â””â”€ í…ìŠ¤íŠ¸ ë‚´ìš©

   c) ì´ë¯¸ì§€ ìƒì„±
      â”œâ”€ Gemini 3 Pro Image í˜¸ì¶œ (60ì´ˆ íƒ€ì„ì•„ì›ƒ)
      â”œâ”€ ì‹¤íŒ¨ ì‹œ 3íšŒ ìë™ ì¬ì‹œë„
      â””â”€ 500 ì—ëŸ¬ ì‹œ ì‚¬ìš©ì ì¬ì‹œë„ ì„ íƒ ì œì‹œ

   d) ì €ì¥ ë° í‘œì‹œ
      â”œâ”€ Streamlit ì„ì‹œ ì €ì¥ì†Œì— ì €ì¥
      â”œâ”€ st.image()ë¡œ ë¯¸ë¦¬ë³´ê¸°
      â””â”€ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì œê³µ

3. ì„œë²„ ê³¼ë¶€í•˜ ë°©ì§€
   â””â”€ í˜ì´ì§€ ê°„ 10ì´ˆ ëŒ€ê¸°
```

**ì¶œë ¥**:
- ìƒì„±ëœ ì´ë¯¸ì§€ (PNG í˜•ì‹)
- ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ (st.download_button)
- ì„ íƒì : í•œë²ˆì— ì „ì²´ ë‹¤ìš´ë¡œë“œ (ZIP)

**ì—ëŸ¬ ì²˜ë¦¬**:
```python
íƒ€ì„ì•„ì›ƒ (60ì´ˆ ì´ˆê³¼)
â”œâ”€ ìë™ ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ)
â””â”€ ì‚¬ìš©ìì—ê²Œ ì¬ì‹œë„ ì˜µì…˜ ì œì‹œ

500 Internal Error
â”œâ”€ ìë™ ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ)
â””â”€ ê³„ì† ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ì ì„ íƒ
    â”œâ”€ ë‹¤ì‹œ ì‹œë„
    â””â”€ í˜ì´ì§€ ê±´ë„ˆë›°ê¸°

ê¸°íƒ€ ì˜¤ë¥˜
â”œâ”€ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
â””â”€ st.error() + ì¬ì‹œë„ ë²„íŠ¼
```

---

### 4.4 ì„¸ë¶€ UI ì»´í¬ë„ŒíŠ¸

#### ë¡œê·¸ ì°½
```python
# ì‹¤ì‹œê°„ ë¡œê·¸ í‘œì‹œ
import streamlit as st
from datetime import datetime

log_container = st.container()

def log(msg):
    timestamp = datetime.now().strftime("%H:%M:%S")
    log_container.write(f"[{timestamp}] {msg}")
```

#### ì§„í–‰ ìƒí™© í‘œì‹œ
```python
# ì§„í–‰ ë°”
progress_bar = st.progress(0)
status_text = st.empty()

for i, page in enumerate(pages):
    progress_bar.progress((i+1) / len(pages))
    status_text.write(f"ì§„í–‰ ì¤‘: {i+1}/{len(pages)} ({page['type']})")
    # ... ì´ë¯¸ì§€ ìƒì„± ...
```

#### ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
```python
# ë‹¨ì¼ ì´ë¯¸ì§€
st.download_button(
    label="ğŸ“¥ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ",
    data=image_bytes,
    file_name=f"card_news_{i+1}.png",
    mime="image/png"
)

# ì „ì²´ ë‹¤ìš´ë¡œë“œ (ZIP)
st.download_button(
    label="ğŸ“¦ ì „ì²´ ë‹¤ìš´ë¡œë“œ (ZIP)",
    data=zip_bytes,
    file_name="card_news_all.zip",
    mime="application/zip"
)
```

---

## 5. ë°°í¬ ì¤€ë¹„ (Phase 3)

### 5.1 í•„ìˆ˜ íŒŒì¼

#### `requirements.txt`
```
streamlit==1.28.0
google-generativeai==0.3.0
supabase==2.3.0
pypdf==4.0.0
Pillow==10.0.0
numpy==1.24.0
python-dotenv==1.0.0
```

#### `.streamlit/config.toml`
```toml
[theme]
primaryColor = "#00A651"
backgroundColor = "#FFFFFF"
secondaryBackgroundColor = "#F0F2F6"
textColor = "#262730"
font = "sans serif"

[client]
showErrorDetails = true
maxUploadSize = 200  # MB

[logger]
level = "info"
```

#### `.streamlit/secrets.toml` (ë¡œì»¬ìš©, Gitì— í¬í•¨í•˜ì§€ ì•ŠìŒ)
```toml
# Supabase ì„¤ì •
SUPABASE_URL = "your_supabase_url"
SUPABASE_KEY = "your_supabase_key"

# ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ì „ë‹¬
```

#### `.gitignore` (ì¤‘ìš”!)
```
.streamlit/secrets.toml
__pycache__/
*.pyc
.env
.env.local
.DS_Store
```

---

### 5.2 Streamlit Cloud ë°°í¬

#### 1ë‹¨ê³„: GitHub ì €ì¥ì†Œ ìƒì„±
```
https://github.com/your-username/gwangyang-card-news
```

#### 2ë‹¨ê³„: íŒŒì¼ ì»¤ë°‹ ë° í‘¸ì‹œ
```bash
git add .
git commit -m "Initial commit: Streamlit web app"
git push -u origin main
```

#### 3ë‹¨ê³„: Streamlit Cloud ë°°í¬
1. https://share.streamlit.io/ ì ‘ì†
2. "New app" í´ë¦­
3. GitHub ì €ì¥ì†Œ ì„ íƒ
4. ë¶„ê¸°: `main`, íŒŒì¼: `app.py`

#### 4ë‹¨ê³„: Secrets ê´€ë¦¬
```
1. Streamlit Cloud ëŒ€ì‹œë³´ë“œ â†’ Settings
2. Secrets í•­ëª©ì—ì„œ:
   SUPABASE_URL = "..."
   SUPABASE_KEY = "..."
```

**ì£¼ì˜**: Google API KeyëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•˜ë¯€ë¡œ ì €ì¥í•˜ì§€ ì•ŠìŒ!

---

### 5.3 Render ë°°í¬ (ëŒ€ì•ˆ)

#### `render.yaml` (ì„ íƒì‚¬í•­)
```yaml
services:
  - type: web
    name: gwangyang-card-news
    env: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: streamlit run app.py
    envVars:
      - key: SUPABASE_URL
        scope: run
      - key: SUPABASE_KEY
        scope: run
```

---

## 6. ê°œë°œ ì¼ì • ë° ë§ˆì¼ìŠ¤í†¤

### Phase 1: ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- **ì‚°ì¶œë¬¼**: `migrate_to_supabase.py`, `gwangyang_style_index.json`
- **ì˜ˆìƒ ê¸°ê°„**: 2-3ì‹œê°„
- **ë‚œì´ë„**: ì¤‘ê°„

### Phase 2: Streamlit ê°œë°œ
- **ì‚°ì¶œë¬¼**: `app.py`, `requirements.txt`, `.streamlit/` ì„¤ì •
- **ì˜ˆìƒ ê¸°ê°„**: 1-2ì¼
- **ë‚œì´ë„**: ì¤‘ìƒ
- **ì£¼ìš” ì‘ì—…**:
  - tkinter GUI â†’ Streamlit ì»´í¬ë„ŒíŠ¸ ë³€í™˜
  - BYOK ë³´ì•ˆ ì •ì±… êµ¬í˜„
  - RAG ê²€ìƒ‰ ë¡œì§ í¬íŒ…
  - ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§

### Phase 3: í…ŒìŠ¤íŠ¸ ë° ë°°í¬
- **ì‚°ì¶œë¬¼**: GitHub ì €ì¥ì†Œ, Streamlit Cloud ë°°í¬
- **ì˜ˆìƒ ê¸°ê°„**: 1-2ì‹œê°„
- **ë‚œì´ë„**: ë‚®ìŒ
- **ì£¼ìš” ì‘ì—…**:
  - ë¡œì»¬ í…ŒìŠ¤íŠ¸
  - Streamlit Cloud ì—°ë™
  - í™˜ê²½ë³€ìˆ˜ ì„¤ì •
  - ë°°í¬ í›„ E2E í…ŒìŠ¤íŠ¸

---

## 7. ì£¼ì˜ì‚¬í•­ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë³´ì•ˆ ì ê²€
- [ ] Google API Keyë¥¼ ì½”ë“œì— í•˜ë“œì½”ë”©í•˜ì§€ ì•ŠìŒ
- [ ] `.streamlit/secrets.toml` íŒŒì¼ì´ `.gitignore`ì— í¬í•¨ë¨
- [ ] Supabase Keyë¥¼ ì½”ë“œì— ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
- [ ] ë°°í¬ í™˜ê²½ì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬ë¨

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] 1,600ì¥ ëª¨ë“  ì´ë¯¸ì§€ê°€ Supabaseì— ì—…ë¡œë“œë¨
- [ ] ìŠ¤íƒ€ì¼ ì¸ë±ìŠ¤ ê²½ë¡œê°€ Public URLë¡œ ë³€í™˜ë¨
- [ ] ê° ì´ë¯¸ì§€ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (ìƒ˜í”Œ ì²´í¬)

### ê¸°ëŠ¥ ê²€ì¦
- [ ] STEP 1 ê¸°íšì•ˆ ìƒì„± ë™ì‘ í™•ì¸
- [ ] STEP 2 ë””ìì¸ ìƒì„± ë™ì‘ í™•ì¸
- [ ] íŒŒì¼ ì—…ë¡œë“œ ì •ìƒ ì‘ë™
- [ ] API Key ì…ë ¥ ë° ì„¸ì…˜ ê´€ë¦¬ ì •ìƒ ì‘ë™
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë™ì‘ í™•ì¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• UI í™•ì¸

### ì„±ëŠ¥ ìµœì í™”
- [ ] ì´ë¯¸ì§€ ë¡œë”© ì‹œê°„ ëª¨ë‹ˆí„°ë§
- [ ] ìºì‹± êµ¬í˜„ (í•„ìš”ì‹œ)
- [ ] Rate Limit ì²˜ë¦¬
- [ ] ëŒ€ì—­í­ ìµœì í™”

---

## 8. FAQ & Troubleshooting

### Q1: API Keyê°€ ë…¸ì¶œë˜ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?
**A**: BYOK ë°©ì‹ì—ì„œëŠ” ì‚¬ìš©ì ì±…ì„ì´ë¯€ë¡œ, ì‚¬ìš©ìê°€ Google AI Studioì—ì„œ Keyë¥¼ ì¬ìƒì„±í•˜ë©´ ë©ë‹ˆë‹¤.
ì•± ì„œë²„ì—ëŠ” Keyê°€ ì €ì¥ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìë™ìœ¼ë¡œ ì•ˆì „í•©ë‹ˆë‹¤.

### Q2: ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ ëª¨ë‘ ì‚­ì œí•´ë„ ë˜ë‚˜ìš”?
**A**: Supabaseë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ ìƒ˜í”Œ í…ŒìŠ¤íŠ¸ê°€ ì™„ë£Œë˜ë©´ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ë‹¤ë§Œ ì›ë³¸ ë°±ì—…ì€ ìœ ì§€í•˜ì„¸ìš”.

### Q3: PDF íŒŒì¼ ì—…ë¡œë“œê°€ ì‹¤íŒ¨í•˜ë©´?
**A**: íŒŒì¼ í¬ê¸° ì œí•œ(ê¸°ë³¸ 200MB)ì„ í™•ì¸í•˜ê±°ë‚˜, Google Files API í• ë‹¹ëŸ‰ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.

### Q4: ìƒì„±ëœ ì´ë¯¸ì§€ í’ˆì§ˆì´ ë‚®ìœ¼ë©´?
**A**: í”„ë¡¬í”„íŠ¸ ê°œì„  ë˜ëŠ” Gemini ëª¨ë¸ ë²„ì „ ì—…ê·¸ë ˆì´ë“œë¥¼ ê³ ë ¤í•˜ì„¸ìš”.

---

## 9. ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [Streamlit ê³µì‹ ë¬¸ì„œ](https://docs.streamlit.io/)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [Google Generative AI Python SDK](https://github.com/google/generative-ai-python)

### ìœ ìš©í•œ ë§í¬
- Google API Studio: https://aistudio.google.com/
- Streamlit Cloud: https://share.streamlit.io/
- Supabase Dashboard: https://app.supabase.com/

---

## 10. ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ì‚¬í•­ |
|------|------|---------|
| v1.0 | 2025-11-30 | ì´ˆì•ˆ ì‘ì„± |

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2025-11-30
**ìƒíƒœ**: ê²€í†  ëŒ€ê¸°
**ë‹´ë‹¹ì**: Claude Code
